<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 아키텍처 | 대화형 인포그래픽</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Brilliant Blues -->
    <!-- Application Structure Plan: 정적인 기술 보고서를 동적인 탐색 경험으로 전환하기 위해 대시보드형 인포그래픽 구조를 채택했습니다. 핵심은 '대화형 아키텍처 다이어그램'으로, 사용자가 직접 클릭하며 각 컴포넌트의 역할을 이해할 수 있도록 설계했습니다. 그 아래에는 차트와 카드 그리드를 통해 핵심 기능과 기술 스택을 시각적으로 제시하고, 마지막으로 실제 발생했던 이슈와 해결 과정을 '문제 해결 타임라인'으로 구성하여 프로젝트의 기술적 성숙도를 이야기 형식으로 전달합니다. 이 구조는 기술적 내용을 효과적으로 전달하고 사용자의 흥미를 유발하는 데 최적화되어 있습니다. -->
    <!-- Visualization & Content Choices: 
        - Project Architecture -> Goal: Organize/Relationships -> Viz: Interactive HTML/CSS Diagram -> Interaction: Click-to-display details -> Justification: 복잡한 데이터 흐름과 컴포넌트 간의 상호작용을 텍스트보다 시각적으로 명확하게 전달. -> Method: Tailwind CSS, Vanilla JS.
        - Core Features -> Goal: Compare/Inform -> Viz: Card Layout with Icons -> Interaction: None -> Justification: 각 기능의 핵심 역할을 아이콘과 함께 간결하게 비교하여 사용자가 빠르게 정보를 스캔할 수 있도록 함. -> Method: HTML/CSS.
        - Backend Function Composition -> Goal: Inform/Compare -> Viz: Donut Chart -> Interaction: Hover for tooltips -> Justification: 백엔드를 구성하는 3개 서버리스 함수의 비중을 시각적으로 표현하여 구조를 쉽게 이해시킴. -> Method: Chart.js/Canvas.
        - Troubleshooting -> Goal: Change -> Viz: Vertical Timeline -> Interaction: None -> Justification: 문제 발생부터 원인 분석, 해결까지의 과정을 시간 순서대로 보여주어 기술적 문제 해결 능력을 효과적으로 서술함. -> Method: HTML/CSS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F0F9FF; /* Brilliant Blues: Lightest Blue */
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
        }
        .diagram-box {
            border: 2px solid #BFDBFE; /* Brilliant Blues: Lighter Blue */
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            background-color: white;
        }
        .diagram-box.active, .diagram-box:hover {
            border-color: #3B82F6; /* Brilliant Blues: Primary Blue */
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
            transform: translateY(-4px);
        }
        .arrow {
            color: #60A5FA; /* Brilliant Blues: Light Blue */
            font-size: 2.5rem;
            line-height: 1;
            font-weight: 300;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 300px;
            width: 100%;
            max-width: 300px;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 1.25rem;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #BFDBFE; /* Brilliant Blues: Lighter Blue */
            border-radius: 2px;
        }
        .timeline-item-dot {
            position: absolute;
            left: 0;
            top: 0.25rem;
            height: 2rem;
            width: 2rem;
            margin-left: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #3B82F6; /* Brilliant Blues: Primary Blue */
            color: white;
            border-radius: 50%;
            border: 4px solid #F0F9FF; /* Brilliant Blues: Lightest Blue updated for better contrast */
        }
        .gradient-text {
            background: linear-gradient(to right, #3B82F6, #1D4ED8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto p-4 md:p-8 max-w-6xl">
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4 gradient-text">AI 기반 접근성 분석 시스템</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">정적 보고서를 넘어, 프로젝트의 아키텍처와 핵심 기능을 동적으로 탐색하는 대화형 인포그래픽입니다.</p>
        </header>

        <section id="architecture" class="mb-20">
            <h2 class="text-3xl font-bold text-gray-900 mb-2 text-center">대화형 아키텍처</h2>
            <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">시스템의 심장부입니다. 각 구성 요소를 클릭하여 역할과 적용된 기술을 확인해보세요.</p>
            
            <div class="card p-6 md:p-8">
                <div class="grid grid-cols-1 md:grid-cols-5 items-center gap-4 text-center mb-6">
                    <div id="diagram-frontend" class="diagram-box active">
                        <div class="text-3xl">👤</div>
                        <h3 class="font-bold mt-2">Frontend</h3>
                    </div>
                    <div class="arrow hidden md:block">→</div>
                    <div id="diagram-backend" class="diagram-box col-span-1 md:col-span-3">
                        <div class="text-3xl">☁️</div>
                        <h3 class="font-bold mt-2">Backend (Serverless API)</h3>
                    </div>
                </div>
                <div class="flex justify-center items-center my-[-1rem] md:my-[-2rem]">
                    <div class="arrow">↓</div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-5 items-center gap-4 text-center mt-6">
                    <div></div> 
                    <div id="diagram-rules" class="diagram-box">
                        <div class="text-3xl">📚</div>
                        <h3 class="font-bold mt-2">Knowledge Base</h3>
                    </div>
                    <div class="arrow hidden md:block">↔</div>
                    <div id="diagram-ai" class="diagram-box">
                        <div class="text-3xl">🤖</div>
                        <h3 class="font-bold mt-2">AI Assistant</h3>
                    </div>
                    <div></div>
                </div>
                <div id="diagram-details" class="mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg min-h-[120px] transition-all duration-300">
                </div>
            </div>
        </section>

        <section id="features" class="mb-20">
            <h2 class="text-3xl font-bold text-gray-900 mb-10 text-center">핵심 기능 및 기술 스택</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="card p-6">
                    <div class="text-3xl mb-4">🧠</div>
                    <h3 class="text-xl font-bold mb-2">지식 베이스</h3>
                    <p class="text-gray-600">WCAG 2.1, IRI 색채 시스템 규칙을 `rules.json`으로 구조화하여 AI 답변의 신뢰도를 확보하는 Ground Truth 역할을 수행합니다.</p>
                </div>
                <div class="card p-6">
                    <div class="text-3xl mb-4">💻</div>
                    <h3 class="text-xl font-bold mb-2">HTML 접근성 분석</h3>
                    <p class="text-gray-600">사용자 HTML을 `Cheerio`와 `TinyColor2`로 파싱, 규칙 기반으로 명도 대비, 폰트 크기 등을 정량적으로 측정합니다. (AI 비개입)</p>
                </div>
                <div class="card p-6 md:col-span-2 lg:col-span-1">
                    <div class="text-3xl mb-4">🤖</div>
                    <h3 class="text-xl font-bold mb-2">AI 디자인 어시스턴트</h3>
                    <p class="text-gray-600">'디자인 팀장' 페르소나를 부여받아, 지식 베이스를 기반으로 전문가 수준의 일관된 답변을 생성합니다.</p>
                </div>
                <div class="card p-6 lg:col-span-2">
                    <h3 class="text-xl font-bold mb-4">백엔드 함수 구성</h3>
                    <div class="flex flex-col md:flex-row items-center gap-6">
                        <div class="chart-container">
                            <canvas id="functionsChart"></canvas>
                        </div>
                        <div class="flex-1">
                            <p class="text-gray-600 mb-4">백엔드는 3개의 독립적인 서버리스 함수로 구성되어 있습니다. 각 함수는 특정 역할을 수행하여 시스템의 모듈성과 확장성을 높입니다.</p>
                            <ul class="space-y-2 text-gray-700">
                                <li><span class="font-semibold text-blue-600">analyze-html:</span> 규칙 기반 접근성 분석</li>
                                <li><span class="font-semibold text-blue-600">ai-chatbot:</span> AI 기반 대화형 어시스턴트</li>
                                <li><span class="font-semibold text-blue-600">recommend-design:</span> 디자인 시스템 추천</li>
                            </ul>
                        </div>
                    </div>
                </div>
                 <div class="card p-6">
                    <h3 class="text-xl font-bold mb-4">CI/CD 및 배포</h3>
                     <p class="text-gray-600">GitHub에 코드를 Push하면 Netlify가 자동으로 빌드 및 배포를 수행하는 CI/CD 파이프라인을 구축하여 빠르고 안정적인 업데이트를 보장합니다.</p>
                </div>
            </div>
        </section>

        <section id="troubleshooting">
            <h2 class="text-3xl font-bold text-gray-900 mb-10 text-center">문제 해결 타임라인: 502 서버 오류</h2>
            <div class="card p-6 md:p-8">
                <div class="relative timeline pl-12">
                    <div class="relative pl-8 pb-8">
                        <div class="timeline-item-dot">1</div>
                        <h4 class="font-bold text-lg">문제 발생</h4>
                        <p class="text-gray-600">배포 초기, 서버리스 함수 호출 시 간헐적으로 502 서버 오류가 발생하며 AI 기능이 실패했습니다.</p>
                    </div>
                    <div class="relative pl-8 pb-8">
                        <div class="timeline-item-dot">2</div>
                        <h4 class="font-bold text-lg">원인 분석</h4>
                        <p class="text-gray-600">Netlify 함수 로그를 정밀 분석한 결과, `File is not defined` 오류를 특정했습니다. 이는 최신 `openai` v4 라이브러리와 서버 환경(Node.js) 간의 호환성 문제로 밝혀졌습니다.</p>
                    </div>
                    <div class="relative pl-8">
                         <div class="timeline-item-dot">✓</div>
                        <h4 class="font-bold text-lg">해결 완료</h4>
                        <p class="text-gray-600">안정성이 검증된 `openai` v3 라이브러리로 다운그레이드하고, v3 문법에 맞게 API 호출 코드를 수정하여 문제를 영구적으로 해결했습니다. 이를 통해 서버 환경 호환성의 중요성을 학습했습니다.</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center text-gray-500 mt-16">
            <p>&copy; 2025 Interactive Infographic. All rights reserved.</p>
        </footer>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const diagramDetailsData = {
                frontend: {
                    title: '👤 Frontend (사용자 인터페이스)',
                    description: '정적 파일(HTML, CSS, JS)로 구성된 순수 클라이언트 사이드 애플리케이션입니다. 사용자의 입력을 받아 Netlify Functions로 구성된 백엔드 API를 호출합니다.',
                    tech: ['HTML5', 'Tailwind CSS', 'Vanilla JS']
                },
                backend: {
                    title: '☁️ Backend (서버리스 함수)',
                    description: 'Netlify Functions를 활용하여 별도의 서버 관리 없이 백엔드 로직을 실행합니다. 각 기능은 독립된 함수로 구현되어 확장성과 유지보수성을 높였습니다.',
                    tech: ['Netlify Functions', 'Node.js', 'Serverless']
                },
                rules: {
                    title: '📚 Knowledge Base (JSON)',
                    description: 'WCAG, IRI 등 핵심 규칙을 담고 있는 `rules.json` 파일입니다. HTML 분석기의 판단 기준이자, AI 답변의 신뢰도를 보장하는 Ground Truth 역할을 수행합니다.',
                    tech: ['JSON', 'RAG', 'Ground Truth']
                },
                ai: {
                    title: '🤖 AI Assistant (OpenAI)',
                    description: 'OpenAI의 GPT 모델을 사용하여 자연스러운 채팅 응답과 전문적인 디자인 개선안을 생성합니다. System Prompt를 통해 전문가 페르소나를 부여하고, Knowledge Base를 참고하여 답변의 정확성을 제어합니다.',
                    tech: ['OpenAI API v3', 'GPT-3.5-Turbo', 'System Prompt']
                }
            };

            const diagramBoxes = document.querySelectorAll('.diagram-box');
            const detailsContainer = document.getElementById('diagram-details');

            function updateDetails(key) {
                const detail = diagramDetailsData[key];
                if (!detail) return;

                let techHtml = detail.tech.map(t => `<span class="inline-block bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full">${t}</span>`).join(' ');

                detailsContainer.innerHTML = `
                    <h3 class="text-xl font-bold text-blue-800 mb-2">${detail.title}</h3>
                    <p class="text-blue-900/80 mb-4">${detail.description}</p>
                    <div class="flex flex-wrap gap-2">${techHtml}</div>
                `;
            }

            diagramBoxes.forEach(box => {
                box.addEventListener('click', () => {
                    diagramBoxes.forEach(b => b.classList.remove('active'));
                    box.classList.add('active');
                    const key = box.id.replace('diagram-', '');
                    updateDetails(key);
                });
            });

            updateDetails('frontend');

            const ctx = document.getElementById('functionsChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['HTML 분석', 'AI 챗봇', '디자인 추천'],
                    datasets: [{
                        label: '서버리스 함수',
                        data: [1, 1, 1],
                        backgroundColor: [
                            '#60A5FA', // Brilliant Blues: Light Blue
                            '#3B82F6', // Brilliant Blues: Primary Blue
                            '#2563EB'  // Brilliant Blues: Dark Blue
                        ],
                        borderColor: '#FFFFFF',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    family: "'Noto Sans KR', sans-serif",
                                    size: 14
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                      return label.join(' ');
                                    } else {
                                      return label;
                                    }
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
        });
    </script>
</body>
</html>

